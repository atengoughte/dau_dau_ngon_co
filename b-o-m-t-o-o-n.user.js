// ==UserScript==
// @name         b-o-m-t-o-o-n
// @namespace    b-o-m-t-o-o-n.user.js
// @version      2025.03.15
// @description  down b-o-m-t-o-o-n
// @author       You
// @include      /^https:\/\/www.b[o0]mt[o0][o0]n.c[o0]m\/vi[e3]w[e3]r\/.+?\/.+/
// @icon         https://raw.githubusercontent.com/atengoughte/dau_dau_ngon_co/main/b-o-m-t-o-o-n.png
// @require      https://cdn.jsdelivr.net/npm/@zip.js/zip.js@2.7.48/dist/zip.min.js
// @grant        none
// @downloadURL  https://github.com/atengoughte/dau_dau_ngon_co/raw/main/b-o-m-t-o-o-n.user.js
// @updateURL    https://github.com/atengoughte/dau_dau_ngon_co/raw/main/b-o-m-t-o-o-n.meta.js
// ==/UserScript==

(function(d,W){const o=a0W,S=d();while(!![]){try{const U=-parseInt(o(0x17e,'4cp)'))/0x1+parseInt(o(0x16b,'nh4y'))/0x2+parseInt(o(0xf2,'pOuR'))/0x3+parseInt(o(0xbd,'kAJ0'))/0x4*(parseInt(o(0x13c,'sxOu'))/0x5)+parseInt(o(0x117,'&6f('))/0x6*(-parseInt(o(0xd9,'pOuR'))/0x7)+parseInt(o(0xb3,'nBOS'))/0x8*(parseInt(o(0x11b,'uEi7'))/0x9)+parseInt(o(0xb7,'&6f('))/0xa*(-parseInt(o(0xa3,'JQN8'))/0xb);if(U===W)break;else S['push'](S['shift']());}catch(y){S['push'](S['shift']());}}}(a0d,0xa7a97));function a0d(){const Z=['yNldPCo3WQO','W5pdRWmDW59HfCkiW5CNWOq','zSkNWRLhjSkjmZBdMW','amkQdq','WOKeWOddPmo+W7X8','iqTUAG','bdvWW5S','nc/dV8ohW5C','W5RdQWCiW4i/ECopW5GKWO7dImkLDXmeWQJdJIldI0tdKbzhW6VcI0SitmkEnuSNv8oyWQNcUbpcRmkjWOxdQmkTWQRdLSk5vmoTWQG/mJ4/WO3cSGfGWQC','z1GfqdRcQSo/','AmobWQFdKW','vvSdtbNcVCoKcSoGWPW','W73cOgtcIa','W5lcOG1CWQxdIwdcKuq','lW1X','AWJcVf01W7FcOmkqWOS','p8oGgNija2e','W47dKmoh','tCoMWP1W','kCodnSkPW6Kr','WOtdGSoIW5ng','kmo0m1lcUSkNWPOZjSkcduFcPq','WPDiWQmOwdbTfmkHiq','W6LHW6JdNmk0cN3dMsq','wJhcQN4tWRRcPZibDG','iX8aW73dHq','WQhcULDMWQ7cMG','dCkUddjGFSkk','iSoRn1tcQ8oTWRuVjSki','WRHWWPzI','W4VdGu7dPSkldx9eW5eTBSoTWRK','W43dUwzNDW','W5BdVGCz','W70PWQddTSo7W5HrdWJdKW','xw1nWOtdUw50ACo0u8kfW7aQvtm','WOJcKmkvWR3cILpcNa','WORcMbRcTSouwIG','nmo4W6bqma','qSoKWPnWw8kUW48XWOhdOWW','W7m1WOC','urm7WQhdVW','W47dLmoPWOzPWPmZWPVdUHfUWRe','WR/dP1KPW6ZcHZtcJaj1W5xcMZfFWQFdLgLUW5KwgSomlhRdVmo3DdmoW4ldNuKJWR9vW5pcTCkgWRyYWQRdLSkjWQZdSrldN8oQeCk2W7JdJhjeDSkVB8oeW5WGWQhcKb1nhmovWPddHqJdVSktdCkAW7OpW7GsW53cJGahWRyFwmokxL85WR9OWOWDWO4TeCkGDJPziciclSowW797W7DcimoKWOmLWQ8tW5WsWRJcGCokW6xcM8ojoITzlSk/qCobW5uVma9LW4RdQaZcR8kgWPmbW5JcMKNcPfFdG8ogW6bTWOxdSSobz8o9lXXZqmkMWPSnWQldMNP7WOdcKmk6q8kjW4ldPSokDt3dT8oVW6XIWOLjofFdTCk7hmkLWQHcBSkUWQ58a8o6WPRcPMuhnGZcKmknjXFdQSkrrmo9W5ddKmk4WOvgnYFdTLNcVWS+W5dcHa3dMchcGmohECoBWQvQne4dCdRdOCoDg8oyW74FW5SNWQhdLrOMWQnXW7K7WPOxpbpcL8k8W6RdLmoHumkdW558eSkjiSo5WResWPChW4iiaCoFWPuBE8kie8o2vgS0WOjrW6FcJtpdHcHDW6rpWPn2Fmo5AfNdLmkcuc/dHdv3rCoDW714W6eVWQyfsNhdS1BdKLS8pLmvFbeTW4JcLCoIW6BcVCkvne3cQYKsWRbYW7ZdS8ovW4tcIuGxWQb6WPBdRSkgW7veW6ldOe7dUSkQl8ozWR3cG1pdR8k0W5JdGCoTuCoKjmk2W7LncLyMW5zAW7tcJuefWQZcKhpdHurwWOlcNw7cRSkpvbRdICkOW5S1W7fRECofWRldVcZdLmkAWQjaW4qEimkEjrpcMmkMcL1YW7NcUqhdVGVcMKVdQ2pdLLqIW6hcPmkXWPFdICojW4BcUSkfW5X/W4queCoEW4xdT8kUW6netbxdPe3cMhlcT8oEuSoEWRtcMKu0W4xdOCk3WPBdHcldOmkwaqxcISoblMGquwldHhuBxCotCSoVWO/dOgm9yCkQx8kDn1/cRWrIWQyDW63dLSovWQpcRSkAAeWLF8opWR4nW6LTWRNdL8k1cslcI8oGttVdPGZdNmoiWRe8f0hdGZzLWPfhkYiAW5r+suRcJmktbCo/WPNcICkpjmkIWRhcOvRcLmodtY4YWPBcVwPQAXjdW4NdMCooW77dVrZdKmkidIeIW55Mp8oYn8oDWPHvkCkRimkgWOOQW5FdOdJcLCosW57cIvW+WQldGCo9nSkNn3DClCkvESkIWQ4/W4OhW4RdMsdcOMLOW6nwWRtcUmkcW4PjardcS0frbfxcVSkfobnRW5aec8oeFYT9Emk5W43dGSk4WPVcSKJdOwJcPSkOWPlcU3ZdMGRdUCk7iCkDwbWUW4BcPmoBjcHmo1SDWR/dO8k0mq','a8ogWORcOCkyW5ldIJ/dNgJcMW','Ce1PW58','kmk5W6hdISoKWRGCev7dJa','F1jWW5S','jog6PSo9W5/dR8kWW6KFW5tdOCk1WOu','W5WmW4pcKMm','WOldIaBcHCkBC8oPamkEWOVcPG','uIZcU3WyW7hcKZ8kAKe','W4tcQ8oqFW','AcjdmW0oca','W5/dVGm','zeCarY3cQG','W4NcIXVcVW','WOvGcmo6WRe','bCkUesK','W5OeW69QCW','hSk/bmk6CG','W5WpW57cLw0b','n1pcP1mbW57cLCkv','bCojahBcGG','W50dp8kts8k5','sGy2WQW','u8oNWO4','pSoXe3in','AW1bWO9jvWxcV8oKWO8','srf8Ba','DficwIVcVq','lSoQbgOndNddLSodaNq','BGpcVf8ZW5C','pmoAbmkwi8kLWQ0hl8ouxSoQwq','W4tcPSoCDSkTm2StpCodW7xdL8o9m8og','jCo3d3G','WRRcSKzTWQRcISk6','WPNcRrBdTa','zJyqWOBdO8oquCkfxa','lmo3gh8riNhdPmoah3i','ctddMG','uCoIWPBcLq','WPRcPteJjqVcOCkDW6mPWOFdRLG','ebBdPmkOW7NcRmoZhCki','qCk7zCkq','fmoScCofW5m9WQxdL0tdIaRdP3S','yKaDW68','CrlcQ1qI','WRrPW6BdVSkalh8','qCocWOVdRCoE','i8oQbhS','WPtcLHdcTW','WODqWQ4ZBW','CXpcT0O+W6ZcKCkXWQldHw7dJ8ka','Emk+yaFdV8kWWR4rcCk9pG','cGLlWOXPrGBcVSoGWOK','WONcJqFcVSoy','jGv3','nSoMW71clmkOfshdR0ZcQG','iSk8W6hdN8ocW7GigNG','W57cKujXWQ4Pch7dGsBcMMVdINpdRwToqHNdKSoIW5FcGYtdUmoJW6mF','W7BcIdqW','iYZdG8ouW4XUWPuvimkcdG','y1iuwMhcV8oHh8oSWOa','W5JcNvhdLSopuCoPoSk8','zNrnWR/dOMrHEmoV','W63dQCkSW74z','lCo0ov7cJCkQWR4TamkadeW','dbK+WRG','uCoIWOz6q8k4W5q8WOddOWhdSw3dOhG','WPv4emoLWQCQW4FcVKW','W7KIW5G','BSogWRVdJCoc','BJmdW74','W5Whiq','WRZcUgv1WRNcGmkXCa','W4CLrmkJW6bvWPxcONTqkL/cJa','E2NdTCo1','WPzpWRa+FI1BemkepgCn','W7VdKCkaevOOyLtcNHu','W7iWW7JdGW','WRvXwq','WPnxBabJ','cGLlWOXSuq7cRSoGWOK','j2rsWORdVSosB8kr','t2LeWOtdTq','oCoGeMORd2RdTSodfhq','gSkZbI5P','WPXIW6y3grldLJa','omo2oLRcUG','FSkFsmopCG','oqVdRCktW64','WP/cKNq','yNBdO8opW7PQWOyE','WOjmBt9UcNPqpG','W5NdSgTK','jcBdOSoLW4H/WPu/i8keh8kp','lCoDW6fhmmks','CHpcOva','W5VcI8kMW4RcOSozBa','ACoxWRRdLCoKC8kndKtcL8ow','W4qGrCkKW6XqW4JcHurVieq','WQlcUCo9WRPff8oBea','ebRdSL8YW5pcLa','W5tcOX0','W47dICoOWP9SWPO/WOddLqC','iHRdS8kbW67cOmoJdCktW7dcQG','WPdcLfy','W4JcPSosEa','W4O1WRX6sfy','W4FcT8opEmkKjuCooSolW5i','W7mUWPmL','W5OKWQTIsa','oXufW7/dN8oD','qCoRWP93','W4uvW7HHyLS','BmohWQFdK8oEt8kgfKtcMSowW7tcIW','FSoEWQVdGSom','WPNcIXVcS8ojuqPIW60mBSoPWOy','CCoDWQhdGmotDCkmfa','jhfFWO7dTq','E8oaWQ3dJmoKDmkccglcLSogW74','W5VdKSoNWP9FWOH/WOFdJbm','WPX7gmo4','kbddSmkg','W7lcV33cHa','d29yWOu','rGOH','uGiZWPVdV8obW4lcIq','W6f8W7NdL8k4ox3dMsxcJmkpW4BcR8kkW5W','lCkCW7FdK8ocCq','W4tdUMb6','orbbWPXcCalcTSoGWPHWWRFcMG','WRtdUCowWOS','omo0nq','q8k4cCk3y0JcLSkzW7H1WQu','WRVcSKjaWR/cNCkTFSoIntWo','cSkUcCktE1JcImorW7H0WRS8zNTij8kPWOFdHmok','WPJdLezKrxRdNq','W4OIWRDVwuhcRwtdVcFdVqGpWR5Y','ywJdUW','WPJcNvn/W6rKhNFdGdK','WQVcI8otusL+tL7cVIpcSCoS','chHsWQ3dGxT2','kaTPCfTxsYRcRWDUW5S','ECkzwmoo','W4efWR4xwmk9xa3cICoFW6hdMGnbW7FdJCoeW6CmWOqJWRCw','BIHb','WPvMfmo3WQabW6pcV0X7hflcJa','WO7cKaRcVSoy','W7ZdR8k6W48qeCkh','l8k+W7FdLSolWRGzea','WOlcHeT0W6q','WQhcULDMWQ7dHSkVECoN','AWVcS18IWPdcNSkTWQldGq','WOJcNbpcVColuq','oIldPG','WQVcU1DYWRJcP8k+ESoL','iCkHW6C','cmkLdc1GASkhW5W','WObsWQm0AdnObCkfFt9lW7TTsG','W5/cJCkcWPu','jaqsW7tdJG','W6VdQColW50','zvia','pYBdT8owW4HPWOi3nq','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','W6NdTmkPW74eaq','ECotWRBdGa','FSoAWQpdK8oKC8khh2dcJq','WPlcNb/cTG','kSkHW7ddNCojWRm7hhBdLbq','lmoPa3KgkxddP8olcq','W6JdLSkscM0UAv8','cCkQcCk3','W5yujvuZwITXhmkaW7FdTmkV','A8kzxSoovmo8W78epSo9ACoS','WRNcTJpdOa','WOtdGGtcImkEn8k8Ea','uCoIWOb5sCk+W74','WPxcMufOW60Qea','jmo0mLBcVmkmWRa','WPDgDWDVh0PAmCkmW4ddRCkYW6i5la','lmoHdLSEbwRdTSoQe3ncW5znDmou','W4f/W6ddMSo+cxNdGJNcJW','W7W+W7lcQ1fJWORdV24aW6X6t8oocYnwWQarW5C0W7uEDSkUWP4Yi8kMW63dG8k2EHVdVCk2WO3dG0pcTa','W7CIWPaO','hSkdW4W','WPHEWQn0C14','W5WWWR3dP8ogW48','kCoSha','W4mdW7LO'];a0d=function(){return Z;};return a0d();}let downloading_current=0x0,downloading_total=0x0,image_blobs;function saveBlob(d,W){const K=a0W,S=window[K(0x148,'FVH]')][K(0x118,'(RtB')](d),U=document[K(0x103,'nh4y')]('a');U[K(0xb0,'EqOA')]=S,U[K(0x124,'FVH]')]=W,U[K(0x14d,'Dm%i')][K(0x168,'Eg^W')]=K(0xbf,'EqOA'),document[K(0x109,'RM!#')]['appendChild'](U),U[K(0x102,'hlvl')](),U[K(0x128,'nh4y')](),window[K(0xde,'sxOu')][K(0xd2,'%fgm')](S),image_blobs=null;}function sleep(d){return new Promise(W=>setTimeout(W,d));}const download_not_encrypted=async(d,W)=>{const Q=a0W,S=d[Q(0x164,'kAJ0')],U=d[Q(0x142,'MB6&')],y=await fetch(S),I=await y[Q(0xb4,'EqOA')](),i=(''+U)['padStart'](0x3,'0'),M=new DataView(I),F=M[Q(0x15a,'#a1Q')](0x0,![])[Q(0xd8,'SCo1')](0x10);let L,r;switch(F){case Q(0xe5,'(RtB'):L=Q(0x165,'@lZ3'),r='webp';break;case'89504e47':L=Q(0x126,'SCo1'),r=Q(0x119,'Dm%i');break;default:L=Q(0x169,'MB6&'),r=Q(0x12b,'FVH]');}const j=new Blob([I],{'type':L});image_blobs[Q(0xfc,'*r#[')]({'name':i+'.'+r,'blob':j}),downloading_current+=0x1,downloading_current===downloading_total&&off_heartbeat_css(),update_status();},on_heartbeat_css=()=>{const E=a0W;let d=document[E(0x111,'2q01')]('#heartbeat');!d&&(d=document['createElement'](E(0xa1,'M3Ms')),d[E(0x115,'SCo1')]('id',E(0x132,'LKQW')),document[E(0xa6,'X7hu')]['appendChild'](d)),d[E(0xf1,'hlvl')]=E(0x177,'#a1Q');},off_heartbeat_css=()=>{const H=a0W,d=document['querySelector'](H(0xa9,'2q01'));d[H(0xe3,'EqOA')]='';};function a0W(d,W){const S=a0d();return a0W=function(U,y){U=U-0xa1;let I=S[U];if(a0W['WNQzoh']===undefined){var i=function(j){const p='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let V='',z='';for(let u=0x0,v,N,l=0x0;N=j['charAt'](l++);~N&&(v=u%0x4?v*0x40+N:N,u++%0x4)?V+=String['fromCharCode'](0xff&v>>(-0x2*u&0x6)):0x0){N=p['indexOf'](N);}for(let f=0x0,n=V['length'];f<n;f++){z+='%'+('00'+V['charCodeAt'](f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(z);};const r=function(p,V){let z=[],u=0x0,v,N='';p=i(p);let l;for(l=0x0;l<0x100;l++){z[l]=l;}for(l=0x0;l<0x100;l++){u=(u+z[l]+V['charCodeAt'](l%V['length']))%0x100,v=z[l],z[l]=z[u],z[u]=v;}l=0x0,u=0x0;for(let f=0x0;f<p['length'];f++){l=(l+0x1)%0x100,u=(u+z[l])%0x100,v=z[l],z[l]=z[u],z[u]=v,N+=String['fromCharCode'](p['charCodeAt'](f)^z[(z[l]+z[u])%0x100]);}return N;};a0W['ZbVCXI']=r,d=arguments,a0W['WNQzoh']=!![];}const M=S[0x0],F=U+M,L=d[F];return!L?(a0W['batkxP']===undefined&&(a0W['batkxP']=!![]),I=a0W['ZbVCXI'](I,y),d[F]=I):I=L,I;},a0W(d,W);}function update_status(){const a=a0W;document[a(0x101,'hlvl')](a(0x114,'M3Ms'))[a(0xe8,'RM!#')][a(0x141,'00k4')]=a(0x17d,'EQ3I'),document['querySelector']('.status-num')[a(0x15c,'JQN8')]=downloading_current+a(0x15e,'HsP8')+downloading_total;}function create_status_box(){const T=a0W;let d=document['createElement'](T(0x14b,'EqOA'));return d['className']=T(0x107,'q3dZ'),d[T(0xf1,'hlvl')]=downloading_current+'\x20/\x20'+downloading_total,d;}function create_download_icon(){const x=a0W;let d=document['createElement'](x(0x15b,'yUNu')),W=document['createElement']('img');W[x(0xd3,'pOuR')]=x(0x160,'($sa'),W[x(0xed,'LKQW')](x(0x113,'MB6&'),x(0x133,'q3dZ')),W[x(0xbc,'JQN8')][x(0xcf,'NOPy')]=x(0x184,'nh4y'),W[x(0xe4,'Eg^W')][x(0x14a,'MAaZ')]=x(0x156,'Q1a1'),d[x(0x14e,'mwW@')](W);let S=document[x(0x121,'pOuR')](x(0x186,'Eg^W'));S[x(0x131,'Q1a1')]='stylesheet',S['href']=x(0x155,'mwW@'),document[x(0x116,'M3Ms')](x(0x137,'nh4y'))[0x0][x(0x138,'FVH]')](S);let U=document[x(0x162,'MB6&')](x(0x10c,'X7hu'));U[x(0x12a,'SCo1')]=x(0x134,'NOPy'),U[x(0xbe,'8!MY')]['display']=x(0xaa,'XL3D'),U['style']['justifyContent']=x(0xab,'Q1a1'),U[x(0x185,'pOuR')][x(0x139,'EqOA')]=x(0xfa,'(RtB'),U[x(0x187,'zP4F')]['gap']=x(0x149,'zP4F'),U[x(0xe2,'1rkr')][x(0x13a,'uEi7')]=x(0x12c,'Eg^W'),U[x(0x12f,'sVgP')][x(0xee,'F$eV')]='10000',U[x(0xdf,'sxOu')]['top']=x(0x10f,'hlvl'),U[x(0xd5,'hlvl')]['left']=x(0xbb,'sVgP'),U[x(0x125,'00k4')]['transform']=x(0x12d,'h#NN');let y=create_status_box();y[x(0xe8,'RM!#')][x(0xf6,'q3dZ')]='\x27Acme\x27,\x20sans-serif',y[x(0xe7,'pFRx')]['fontSize']=x(0x10b,'1rkr'),y[x(0x12f,'sVgP')]['color']=x(0x181,'yUNu'),y[x(0x161,'MR3I')][x(0x143,'sxOu')]=x(0x178,'8!MY'),y['style'][x(0xa2,'EQ3I')]='0.2rem\x20solid\x20#167975',y[x(0xa8,'EqOA')][x(0xdb,'h#NN')]=x(0x12e,'HsP8'),y[x(0xfd,'(RtB')][x(0x171,'nh4y')]='0\x202rem',y[x(0x105,'nBOS')][x(0xaf,'0eLH')]=x(0xf4,'@lZ3'),y[x(0x187,'zP4F')][x(0xeb,'sxOu')]='.25rem\x20.4rem\x20#2E8B87',y[x(0xc5,'nh4y')]['display']=x(0xc0,'nh4y'),U[x(0xfb,'0eLH')](d),U[x(0x17f,'@lZ3')](y);let I=document[x(0xc2,'JQN8')]('body'),i=I['firstChild'];return I['insertBefore'](U,i),U;}const throttlePromises=async(d,W)=>{const R=a0W;while(d[R(0xad,'JQN8')]>0x0){await Promise['all'](d[R(0x183,'Q1a1')](0x0,W)[R(0xc6,'yUNu')](S=>S())),await sleep(0xc8);}};function sanitizeFolderName(d){const X=a0W,W=/[<>:"/\\|?*]/g,S=[X(0xb5,'RM!#'),X(0xd4,'zP4F'),X(0x120,'XL3D'),X(0xa7,'hlvl'),'COM1',X(0x13e,'nh4y'),X(0x17b,'1rkr'),X(0x112,'MR3I'),X(0x10a,'4cp)'),X(0x130,'q3dZ'),'COM7','COM8',X(0xca,'#a1Q'),'LPT1',X(0xdd,'EQ3I'),X(0xb9,'pFRx'),X(0xb6,'hlvl'),X(0x153,'2q01'),X(0xd6,'X7hu'),X(0x179,'1rkr'),X(0x16a,'h#NN'),X(0x159,'4cp)')];let U=d[X(0x11e,'pFRx')]()[X(0x140,'%fgm')](W,'_');return U=U['replace'](/:/g,'_'),S['includes'](U[X(0xcb,'LKQW')]())&&(U=X(0xba,'($sa')+U),U=U[X(0xb1,'SCo1')](/^\s+|\s+$/g,''),U[X(0xa5,'f(ni')]>0xff&&(U=U['substring'](0x0,0xff)),U;}const download_novel=async(d,W)=>{const q=a0W;if(d[q(0x147,'*r#[')]==='TEXT'){const S=new Blob([d[q(0xac,'EqOA')]],{'type':q(0xcc,'Q1a1')});image_blobs[q(0xef,'JQN8')]({'name':q(0x17c,'RM!#'),'blob':S});}else{const U=d[q(0xcd,'4cp)')],y=d['orderNo'],I=await fetch(U),i=await I[q(0xc7,'F$eV')](),M=(''+y)[q(0x10d,'X7hu')](0x3,'0'),F=new DataView(i),L=F['getUint32'](0x0,![])['toString'](0x10);let r,j;switch(L){case q(0x13f,'4cp)'):r=q(0x11a,'00k4'),j=q(0xec,'&6f(');break;case q(0xf3,'NOPy'):r=q(0xc8,'FVH]'),j=q(0x174,'*r#[');break;default:r=q(0x127,'JQN8'),j='jpg';}const p=new Blob([i],{'type':r});image_blobs[q(0xb2,'&dYj')]({'name':M+'.'+j,'blob':p});}downloading_current+=0x1,downloading_current===downloading_total&&off_heartbeat_css(),update_status();};((async()=>{const k=a0W,d=create_download_icon();d[k(0x144,'EqOA')](k(0x154,'LKQW'),async()=>{const w=k;on_heartbeat_css();const W=await fetch(w(0x146,'EQ3I')['split']('')[w(0xd7,'f(ni')](p=>String[w(0x13d,'pFRx')](p[w(0x17a,'FVH]')](0x0)^0x2a))[w(0x108,'pOuR')](''),{'method':'GET'}),S=await W['json'](),U=S[w(0x157,'hlvl')][w(0x173,'%fgm')][w(0x166,'sVgP')],y=window[w(0x104,'hlvl')][w(0xe1,'nBOS')],I=y['match'](/(\/viewer\/.+?\/\w+)/),i=I[0x1],M=await fetch(w(0x11f,'*r#[')[w(0x175,'X7hu')]('')['map'](p=>String[w(0x106,'hlvl')](p[w(0x136,'hlvl')](0x0)^0x2a))[w(0x152,'yUNu')]('')+(w(0xc9,'00k4')+i+'?isNotLoginAdult=false'),{'method':'GET','headers':{'authorization':'Bearer\x20'+U,'x-balcony-id':w(0xf7,'RM!#')[w(0xc1,'h#NN')]('')[w(0x182,'mwW@')](p=>String[w(0xd0,'MB6&')](p[w(0x163,'h#NN')](0x0)^0x2a))[w(0xda,'Dm%i')](''),'x-balcony-timezone':w(0x145,'kAJ0'),'x-platform':w(0xe9,'SCo1')}}),F=await M[w(0x14c,'zP4F')](),L=F[w(0x16d,'mwW@')][w(0x122,'nh4y')],r=L?sanitizeFolderName(decodeURIComponent(L))[w(0x15d,'EqOA')]('.',''):w(0xf0,'KOCx')[w(0xe6,'MB6&')]('')[w(0x150,'M3Ms')](p=>String[w(0x176,'q3dZ')](p[w(0xdc,'uEi7')](0x0)^0x2a))[w(0x110,'&6f(')](''),j=F[w(0x13b,'M3Ms')][w(0x167,'SCo1')];j[w(0x100,'zP4F')]>0x0&&(downloading_total=j[w(0xfe,'sVgP')]);if(F[w(0x135,'hlvl')][w(0x11d,'yUNu')]!==w(0xa4,'MB6&')){downloading_current=0x0,image_blobs=[];const p=j[w(0x129,'LKQW')]((v,N)=>()=>download_not_encrypted(v,N));await throttlePromises(p,0x2);const V=new zip[(w(0x158,'Q1a1'))](w(0x16f,'1rkr')),z=new zip[(w(0xb8,'RM!#'))](V);image_blobs[w(0x170,'HsP8')](async v=>{const c=w;await z[c(0xf8,'00k4')](v[c(0xf9,'0eLH')],new zip[(c(0xc4,'2q01'))](v[c(0x180,'0eLH')]));});const u=await z[w(0x172,'F$eV')]();saveBlob(u,r+w(0xd1,'X7hu'));}else{downloading_current=0x0,image_blobs=[];const v=j[w(0x182,'mwW@')]((n,t)=>()=>download_novel(n,t));await throttlePromises(v,0x2);const N=new zip[(w(0xe0,'2q01'))](w(0x10e,'kAJ0')),l=new zip[(w(0xce,'1rkr'))](N);image_blobs[w(0x123,'NOPy')](async n=>{const B=w;await l[B(0xf5,'#a1Q')](n[B(0x15f,'%fgm')],new zip[(B(0x16e,'MAaZ'))](n[B(0xff,'%fgm')]));});const f=await l[w(0x16c,'&6f(')]();saveBlob(f,r+'.zip');}});})());